<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<h4>
    Advanced Search
    <button id="adv-filter-arrow" role="button" class="adv-closed">
        {% if request.GET.is_simple %}
            ↓
        {% else%}
            ↑
        {% endif %}
    </button>
</h4>
<form action="/advanced_search/" id="adv-filter-form" method="GET"
      {% if request.GET.is_simple %}
      style="display:none;"
      {% endif %}>

    {{adv_search_form.as_p}}

    <button class="btn btn-primary btn-submit" type="submit">Search</button>

</form>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<script>
 flatpickr('[data-toggle="datepicker"]', {
     allowInput: true
 });

 document.getElementById("adv-filter-arrow").addEventListener("click", function(e) {
     if (e.target.classList.contains("adv-closed")) {
         document.getElementById("adv-filter-form").style.display = "block";
         e.target.classList.remove("adv-closed");
         e.target.classList.add("adv-open");
         e.target.textContent = "↑";
     } else {
         document.getElementById("adv-filter-form").style.display = "none";
         e.target.classList.add("adv-closed");
         e.target.classList.remove("adv-open");
         e.target.textContent = "↓";
     }
 });

</script>
